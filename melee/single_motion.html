<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-07-20 Sun 02:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Controller Stuff</title>
<meta name="author" content="Eryk Banatt" />
<meta name="generator" content="Org Mode" />
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-101739190-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-101739190-1');
</script>


<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>

<script>
var shiftWindow = function() { scrollBy(0, -50) };
if (location.hash) shiftWindow();
window.addEventListener("hashchange", shiftWindow);
</script>

<script type="text/javascript">

$(function() {
    'use strict';

    $("#text-table-of-contents ul:first").addClass('nav')
    $('body').attr('data-spy', 'scroll')
    $('body').attr('data-target', '#text-table-of-contents')
    $('body').attr('data-offset', '100')
    $('table').addClass('table table-striped table-bordered table-hover table-condensed')

});
</script>

<link rel="stylesheet" type="text/css" href="https://planetbanatt.net/css/default_20240614.css" />
<link rel="shortcut icon" type="image/jpg" href="https://planetbanatt.net/favicon.ico" />
</head>
<body>
<div id="preamble" class="status">

<!-- heading -->
<!-- add here -->

<!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav ml-auto" style="margin-left:3%">
            <li class="nav-item"><a href="http://planetbanatt.net/">Home</a></li>
            <li><a href="http://planetbanatt.net/about.html">About</a></li>
            <li><a href="http://planetbanatt.net/projects.html">Projects</a></li>
            <li><a href="http://planetbanatt.net/melee/index.html">Melee</a></li>
            <li><a href="http://planetbanatt.net/links.html">Links</a></li>
            <li><a href="http://planetbanatt.net/resume.pdf">Resume</li>
          </ul>
          </ul>
        </div><!--/.nav-collapse -->
    </nav>
</div>
<div id="content" class="content">
<h1 class="title">Controller Stuff</h1>
<div id="table-of-contents" role="doc-toc">
<h1>Table of Contents</h1>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org8ddbd0b">Single Motion / Phob Stuff</a></li>
</ul>
</div>
</div>
<div id="outline-container-org8ddbd0b" class="outline-1">
<h1 id="org8ddbd0b">Single Motion / Phob Stuff</h1>
<div class="outline-text-1" id="text-org8ddbd0b">
<p>
Triggers (waveshaping) L: 8, R: 0
</p>
<ul class="org-ul">
<li>L trigger X-axis waveshaping = 8 (pretty strong)</li>
<li>R trigger Y-axis waveshaping = 0 (disabled)</li>
<li>Setting 8 maps to coefficient ~0.00556, providing good pode-like behavior where fast movements are filtered more heavily than slow ones</li>
</ul>

<p>
Analog stick (smart snapback filter) x: 4, y: -5
</p>
<ul class="org-ul">
<li>X-axis = 4 (positive snapback = Kalman filtering)</li>
<li>Y-axis = -5 (negative snapback = low-pass filter without rise time shortening)</li>
<li>The negative Y value makes stick return to center slower and smoother</li>
</ul>

<p>
C stick (axis smoothing) x: 5, y: 0
</p>
<ul class="org-ul">
<li>X-axis = 50% smoothing strength (coefficient ~0.659)</li>
<li>Y-axis = 0 (no smoothing)</li>
</ul>

<p>
Links to code for:
</p>
<ul class="org-ul">
<li><a href="https://github.com/PhobGCC/PhobGCC-SW/blob/1ff160c13d1e2062bc9c257823d501bedbcb6d1b/PhobGCC/common/filter.h#L184">smart snapback filter</a> (filter.h)</li>
<li><a href="https://github.com/PhobGCC/PhobGCC-SW/blob/1ff160c13d1e2062bc9c257823d501bedbcb6d1b/PhobGCC/common/filter.h#L224">waveshaping</a> (also filter.h)</li>
<li><a href="https://github.com/PhobGCC/PhobGCC-SW/blob/1ff160c13d1e2062bc9c257823d501bedbcb6d1b/PhobGCC/common/phobGCC.h#L2245">axis smoothing</a> (phobgcc.h)</li>
</ul>

<p>
TODO: run simulations with these calculations based on how fast the motion is, what the resulting value would be.
</p>

<p>
TODO: Write about how doing the input slower is preferable for single motion, compared to doing it really fast for backwards ledgedash.
</p>

<p>
More links:
</p>
<ul class="org-ul">
<li><a href="https://r2dliu.com/articles/ledgedash">r2dliu on PODE / ledgedashing</a></li>
<li><a href="https://github.com/PhobGCC/PhobGCC-doc/blob/main/For_Users/Phob_Calibration_Guide_Latest.md">phobGCC documentation</a></li>
<li><a href="https://alexspuffstuff.blogspot.com/2019/03/fox-ledgedash-consistency_23.html">alexpuffstuff post on fox ledgedash</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<a href="#top">Back to Top</a>
</div>
</body>
</html>
