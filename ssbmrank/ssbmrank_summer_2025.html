<!DOCTYPE html>
<html>
<head>
  <style>

        body {
	    padding: 20px;
	    font-family: Arial, sans-serif;
        }

	.stickyrow { width: 3000px; }

	/*table stuff */
	table {
	    table-layout: fixed;
	    width: 10000px;
	    padding-right:5000px;
	}
	
	/* Fixed first column and header */
        #crossTable th, #crossTable td {
            position: sticky;
            /*background-color: white; */
        }
        /* Fixed header */
        #crossTable th {
            top: 0;
            z-index: 2;
        }
        /* Fixed first column */
        #crossTable th:first-child, #crossTable td:first-child {
            left: 0;
            z-index: 1;
        }
        /* First column width */
        #crossTable th:first-child, #crossTable td:first-child {
            min-width: 250px;  /* adjust this as needed */
        }
	
	td, th {
	    white-space: nowrap;  /* This keeps the text on a single line */
	    overflow: hidden;  /* This hides text that is too long */
	    text-overflow: ellipsis;  /* This adds an ellipsis for text that is too long */
	    text-align: center;
	    /*width: auto;*/
	}

	.stickycell { background-color: white; }
	
	td.white { background-color: #D3D3D3; }
        td.yellow { background-color: #FFFF99; }
        td.green { background-color: #90EE90; }
        td.red { background-color: #FF7F7F; }
        td.black { background-color: black; }


    </style>

    <!-- Include jQuery and jQuery UI libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
</head>
<body>
    <h2>H2H Cross Table</h2>
    <p>Updated: 07/12/2025</p>
    <!-- Add radio buttons for match filtering -->
    <div id="filterOptions">
        <input type="radio" id="majorsAndRegionalsAndMonthlies" name="filter" value="all" checked>
        <label for="majorsAndRegionals">Majors + Regionals + Monthlies</label>
        <input type="radio" id="majorsAndRegionals" name="filter" value="majorAndRegional">
        <label for="majorsAndRegionalsOnly">Majors + Regionals</label>
        <input type="radio" id="majorsOnly" name="filter" value="majors">
        <label for="majorsOnly">Majors Only</label>	
    </div>

    <table id="crossTable">
        <!-- Cross table data will be populated here using JavaScript -->
    </table>

    <h2>Player Ordering (Drag Players To Reorder Table)</h2>
    <ol id="sortable">
        <!-- Player list will be populated here using JavaScript -->
    </ol>

    <h2>Filters</h2>
    <button id="toggle-events">Show/Hide Event Tier Assignments</button>
    <!-- List of events with toggle buttons for 'majors' or 'regionals' -->
    <div id="events" style="display: none;">
        <!-- This will be populated using JavaScript -->
    </div>

    <button id="toggle-match-data">Show/Hide Match Data</button>
    <!-- List of matches, used to exclude specific sets -->
    <div id="match-data" style="display: none;">
        <!-- This will be populated using JavaScript -->
    </div>

    <script>
        // Players and their IDs. 
      var players = ["583c7fa9", "a709f899", "f43678b2", "cfe7a825", "c9b7f9dd", "1c278ce9", "de4f81e5", "0ad21baa", "c875a8c3", "3352d0d8", "56e65e49", "8ab7ba54", "da8b9c25", "89d7c7da", "ce4714ea", "21470bf0", "0351c73c", "90271561", "c8cd907b", "9ff819f4", "d27d8b76", "076502c1", "b2526c86", "2d34f47c", "3e5ad50b", "dbff9f24", "c2b31cbb", "5a13ee71", "985d6ac2", "658c6a49", "cddea7f7", "3a26a2ca", "2b120752", "a327d9dd", "c383a2ce", "98db8330", "fcb7988b", "ca0310c6", "05c05957", "41c65699", "c3e27b2e", "88547be1", "39493041", "0c449ce1", "d865e317", "ed4dcae4", "760514b0", "a04e4aed", "a4e7d0bc", "2ee173fe", "ebb6c120", "acf6aa2d", "83ae3b53", "8646af65", "7fe8638e", "9c63d861", "e70a66ca", "fb51e987", "98c0b1a8", "b46a1da4", "2a371960", "cbe5cea1", "99a355dd", "aef2a867"];
	
      
      var playersData = {"583c7fa9": "404Cray", "a709f899": "Agent", "f43678b2": "Aklo", "cfe7a825": "aMSa", "c9b7f9dd": "Aura", "1c278ce9": "Axe", "de4f81e5": "Balloon Day", "0ad21baa": "Ben", "c875a8c3": "BING", "3352d0d8": "bonfire10", "56e65e49": "Chem", "8ab7ba54": "Chickenman400", "da8b9c25": "Cody Schwab", "89d7c7da": "DarkGenex", "ce4714ea": "Dawson", "21470bf0": "Epoodle", "0351c73c": "Faust", "90271561": "Frostbyte", "c8cd907b": "Grab", "9ff819f4": "Graves", "d27d8b76": "Holiday", "076502c1": "Hungrybox", "b2526c86": "Jah Ridin'", "2d34f47c": "Jmook", "3e5ad50b": "JoJo", "dbff9f24": "Joshman", "c2b31cbb": "Jude", "5a13ee71": "Junebug", "985d6ac2": "Kalvar", "658c6a49": "Kevbot", "cddea7f7": "Krudo", "3a26a2ca": "lexor", "2b120752": "lloD", "a327d9dd": "Lowercase hero", "c383a2ce": "Maelstrom", "98db8330": "Magi", "fcb7988b": "max", "ca0310c6": "MOF", "05c05957": "moky", "41c65699": "Mot$", "c3e27b2e": "mvlvchi", "88547be1": "n0ne", "39493041": "Nicki", "0c449ce1": "Ossify", "d865e317": "Panda", "ed4dcae4": "Plup", "760514b0": "Preeminent", "a04e4aed": "RapMonster", "a4e7d0bc": "Rikzz", "2ee173fe": "Rocket", "ebb6c120": "Salt", "acf6aa2d": "Seven", "83ae3b53": "Sirmeris", "8646af65": "Slowking", "7fe8638e": "SluG", "9c63d861": "Soonsay", "e70a66ca": "Stiv", "fb51e987": "TheRealThing", "98c0b1a8": "Trif", "b46a1da4": "Wizzrobe", "2a371960": "Zain", "cbe5cea1": "Zamu", "99a355dd": "Zanya", "aef2a867": "Zuppy"};

        // events data.
      var eventsData = {"0": "Genesis X2", "1": "Get On My Level: Forever - Canadian Fighting Game Championships", "2": "Tipped Off 16: Safari", "3": "Full Bloom 2025", "4": "Battle of BC 7", "5": "Nouns Bowl 2025", "6": "Full House 2025"};

        function updateMatches(eventId, prestige) {
            matches = matches.map(function(match) {
                if (match[5] == eventId) {
                    match[6] = prestige;
                }
                return match;
            });
        }
        
        // Match data.
	var matches = [["Wizzrobe", "b46a1da4", "Aura", "c9b7f9dd", "3-2", "0", "majors"], ["Hungrybox", "076502c1", "Junebug", "5a13ee71", "3-1", "0", "majors"], ["Hungrybox", "076502c1", "Trif", "98c0b1a8", "3-2", "0", "majors"], ["Hungrybox", "076502c1", "Trif", "98c0b1a8", "3-1", "0", "majors"], ["moky", "05c05957", "Aura", "c9b7f9dd", "3-0", "0", "majors"], ["Cody Schwab", "da8b9c25", "Junebug", "5a13ee71", "3-2", "0", "majors"], ["Salt", "ebb6c120", "Joshman", "dbff9f24", "3-1", "0", "majors"], ["moky", "05c05957", "Aklo", "f43678b2", "3-0", "0", "majors"], ["Cody Schwab", "da8b9c25", "Krudo", "cddea7f7", "3-0", "0", "majors"], ["Joshman", "dbff9f24", "Jmook", "2d34f47c", "3-0", "0", "majors"], ["Axe", "1c278ce9", "Plup", "ed4dcae4", "3-1", "0", "majors"], ["Trif", "98c0b1a8", "Wizzrobe", "b46a1da4", "3-0", "0", "majors"], ["Cody Schwab", "da8b9c25", "Lowercase hero", "a327d9dd", "3-0", "0", "majors"], ["Plup", "ed4dcae4", "Slowking", "8646af65", "3-0", "0", "majors"], ["moky", "05c05957", "Kevbot", "658c6a49", "3-2", "0", "majors"], ["Salt", "ebb6c120", "Grab", "c8cd907b", "3-1", "0", "majors"], ["Joshman", "dbff9f24", "bonfire10", "3352d0d8", "3-1", "0", "majors"], ["Soonsay", "9c63d861", "JoJo", "3e5ad50b", "3-2", "0", "majors"], ["Aklo", "f43678b2", "max", "fcb7988b", "3-0", "0", "majors"], ["aMSa", "cfe7a825", "Kalvar", "985d6ac2", "3-0", "0", "majors"], ["Panda", "d865e317", "Zanya", "99a355dd", "3-0", "0", "majors"], ["Aura", "c9b7f9dd", "Chickenman400", "8ab7ba54", "3-1", "0", "majors"], ["Trif", "98c0b1a8", "Aklo", "f43678b2", "3-1", "0", "majors"], ["Aura", "c9b7f9dd", "Soonsay", "9c63d861", "3-2", "0", "majors"], ["Wizzrobe", "b46a1da4", "Plup", "ed4dcae4", "3-2", "0", "majors"], ["Junebug", "5a13ee71", "Jmook", "2d34f47c", "3-2", "0", "majors"], ["Hungrybox", "076502c1", "Joshman", "dbff9f24", "3-1", "0", "majors"], ["moky", "05c05957", "mvlvchi", "c3e27b2e", "3-0", "0", "majors"], ["Krudo", "cddea7f7", "lloD", "2b120752", "3-2", "0", "majors"], ["Joshman", "dbff9f24", "Chickenman400", "8ab7ba54", "3-0", "0", "majors"], ["Jmook", "2d34f47c", "Ossify", "0c449ce1", "3-0", "0", "majors"], ["Plup", "ed4dcae4", "aMSa", "cfe7a825", "3-1", "0", "majors"], ["Axe", "1c278ce9", "Soonsay", "9c63d861", "3-1", "0", "majors"], ["Hungrybox", "076502c1", "Wizzrobe", "b46a1da4", "3-2", "0", "majors"], ["Slowking", "8646af65", "404Cray", "583c7fa9", "3-0", "0", "majors"], ["mvlvchi", "c3e27b2e", "Zamu", "cbe5cea1", "3-1", "0", "majors"], ["Cody Schwab", "da8b9c25", "Magi", "98db8330", "3-0", "0", "majors"], ["Chickenman400", "8ab7ba54", "Panda", "d865e317", "3-1", "0", "majors"], ["Dawson", "ce4714ea", "DarkGenex", "89d7c7da", "3-0", "0", "majors"], ["Frostbyte", "90271561", "Stiv", "e70a66ca", "3-1", "0", "majors"], ["Hungrybox", "076502c1", "Frostbyte", "90271561", "3-0", "0", "majors"], ["Soonsay", "9c63d861", "DarkGenex", "89d7c7da", "3-1", "0", "majors"], ["Salt", "ebb6c120", "Axe", "1c278ce9", "3-1", "0", "majors"], ["JoJo", "3e5ad50b", "Dawson", "ce4714ea", "3-1", "0", "majors"], ["Wizzrobe", "b46a1da4", "Hungrybox", "076502c1", "3-0", "0", "majors"], ["Rocket", "2ee173fe", "Ben", "0ad21baa", "3-1", "0", "majors"], ["lloD", "2b120752", "aMSa", "cfe7a825", "3-0", "0", "majors"], ["Aklo", "f43678b2", "Panda", "d865e317", "3-1", "0", "majors"], ["Aura", "c9b7f9dd", "Cody Schwab", "da8b9c25", "3-0", "0", "majors"], ["Soonsay", "9c63d861", "Magi", "98db8330", "3-1", "0", "majors"], ["Jmook", "2d34f47c", "Zamu", "cbe5cea1", "3-1", "0", "majors"], ["Junebug", "5a13ee71", "mvlvchi", "c3e27b2e", "3-0", "0", "majors"], ["mvlvchi", "c3e27b2e", "Slowking", "8646af65", "3-0", "0", "majors"], ["Zamu", "cbe5cea1", "Agent", "a709f899", "3-2", "0", "majors"], ["Magi", "98db8330", "Zanya", "99a355dd", "3-0", "0", "majors"], ["Panda", "d865e317", "Grab", "c8cd907b", "3-0", "0", "majors"], ["Axe", "1c278ce9", "Frostbyte", "90271561", "3-0", "0", "majors"], ["Hungrybox", "076502c1", "Salt", "ebb6c120", "3-0", "0", "majors"], ["Agent", "a709f899", "Faust", "0351c73c", "3-1", "0", "majors"], ["Chickenman400", "8ab7ba54", "Ben", "0ad21baa", "3-1", "0", "majors"], ["Salt", "ebb6c120", "Axe", "1c278ce9", "3-1", "0", "majors"], ["Cody Schwab", "da8b9c25", "moky", "05c05957", "3-0", "0", "majors"], ["Zain", "2a371960", "Hungrybox", "076502c1", "3-1", "1", "majors"], ["moky", "05c05957", "Zanya", "99a355dd", "3-0", "1", "majors"], ["Cody Schwab", "da8b9c25", "Chickenman400", "8ab7ba54", "3-0", "1", "majors"], ["Zain", "2a371960", "Dawson", "ce4714ea", "3-1", "1", "majors"], ["Wizzrobe", "b46a1da4", "Chem", "56e65e49", "3-1", "1", "majors"], ["Aura", "c9b7f9dd", "MOF", "ca0310c6", "3-2", "1", "majors"], ["SluG", "7fe8638e", "Ossify", "0c449ce1", "3-2", "1", "majors"], ["RapMonster", "a04e4aed", "Krudo", "cddea7f7", "3-1", "1", "majors"], ["aMSa", "cfe7a825", "Zamu", "cbe5cea1", "3-1", "1", "majors"], ["Zain", "2a371960", "Salt", "ebb6c120", "3-1", "1", "majors"], ["Joshman", "dbff9f24", "Wizzrobe", "b46a1da4", "3-2", "1", "majors"], ["Hungrybox", "076502c1", "moky", "05c05957", "3-2", "1", "majors"], ["Mot$", "41c65699", "Dawson", "ce4714ea", "3-2", "1", "majors"], ["Wizzrobe", "b46a1da4", "RapMonster", "a04e4aed", "3-1", "1", "majors"], ["n0ne", "88547be1", "Jude", "c2b31cbb", "3-2", "1", "majors"], ["Kevbot", "658c6a49", "Nicki", "39493041", "3-2", "1", "majors"], ["Zamu", "cbe5cea1", "Frostbyte", "90271561", "3-1", "1", "majors"], ["Aura", "c9b7f9dd", "Salt", "ebb6c120", "3-2", "1", "majors"], ["Maelstrom", "c383a2ce", "lexor", "3a26a2ca", "3-1", "1", "majors"], ["moky", "05c05957", "Zamu", "cbe5cea1", "3-1", "1", "majors"], ["Mot$", "41c65699", "Lowercase hero", "a327d9dd", "3-2", "1", "majors"], ["aMSa", "cfe7a825", "Aklo", "f43678b2", "3-1", "1", "majors"], ["Jude", "c2b31cbb", "bonfire10", "3352d0d8", "3-2", "1", "majors"], ["Agent", "a709f899", "Kalvar", "985d6ac2", "3-1", "1", "majors"], ["RapMonster", "a04e4aed", "SluG", "7fe8638e", "3-2", "1", "majors"], ["Aura", "c9b7f9dd", "Soonsay", "9c63d861", "3-0", "1", "majors"], ["Frostbyte", "90271561", "BING", "c875a8c3", "3-2", "1", "majors"], ["Jah Ridin'", "b2526c86", "TheRealThing", "fb51e987", "3-1", "1", "majors"], ["Hungrybox", "076502c1", "Wizzrobe", "b46a1da4", "3-1", "1", "majors"], ["Zain", "2a371960", "Epoodle", "21470bf0", "3-0", "1", "majors"], ["Cody Schwab", "da8b9c25", "Aura", "c9b7f9dd", "3-0", "1", "majors"], ["Cody Schwab", "da8b9c25", "Kevbot", "658c6a49", "3-0", "1", "majors"], ["Dawson", "ce4714ea", "BING", "c875a8c3", "3-2", "1", "majors"], ["Zain", "2a371960", "Joshman", "dbff9f24", "3-1", "1", "majors"], ["Zanya", "99a355dd", "TheRealThing", "fb51e987", "3-2", "1", "majors"], ["Aklo", "f43678b2", "Agent", "a709f899", "3-0", "1", "majors"], ["Ossify", "0c449ce1", "Jude", "c2b31cbb", "3-0", "1", "majors"], ["Hungrybox", "076502c1", "SluG", "7fe8638e", "3-1", "1", "majors"], ["SluG", "7fe8638e", "bonfire10", "3352d0d8", "3-0", "1", "majors"], ["aMSa", "cfe7a825", "Lowercase hero", "a327d9dd", "3-0", "1", "majors"], ["Zain", "2a371960", "Aklo", "f43678b2", "3-0", "1", "majors"], ["Joshman", "dbff9f24", "DarkGenex", "89d7c7da", "3-0", "1", "majors"], ["Salt", "ebb6c120", "aMSa", "cfe7a825", "3-2", "1", "majors"], ["Zamu", "cbe5cea1", "Mot$", "41c65699", "3-0", "1", "majors"], ["RapMonster", "a04e4aed", "Preeminent", "760514b0", "3-1", "1", "majors"], ["Wizzrobe", "b46a1da4", "moky", "05c05957", "3-1", "1", "majors"], ["Salt", "ebb6c120", "lexor", "3a26a2ca", "3-1", "1", "majors"], ["Joshman", "dbff9f24", "Ben", "0ad21baa", "3-1", "1", "majors"], ["moky", "05c05957", "MOF", "ca0310c6", "3-0", "1", "majors"], ["Aklo", "f43678b2", "Ossify", "0c449ce1", "3-1", "1", "majors"], ["RapMonster", "a04e4aed", "Mot$", "41c65699", "3-0", "1", "majors"], ["Soonsay", "9c63d861", "Krudo", "cddea7f7", "3-0", "1", "majors"], ["Frostbyte", "90271561", "Epoodle", "21470bf0", "3-1", "1", "majors"], ["Aura", "c9b7f9dd", "Chem", "56e65e49", "3-1", "1", "majors"], ["Hungrybox", "076502c1", "Joshman", "dbff9f24", "3-2", "1", "majors"], ["Wizzrobe", "b46a1da4", "Cody Schwab", "da8b9c25", "3-2", "1", "majors"], ["Zamu", "cbe5cea1", "Ben", "0ad21baa", "3-2", "1", "majors"], ["Hungrybox", "076502c1", "aMSa", "cfe7a825", "3-1", "1", "majors"], ["Wizzrobe", "b46a1da4", "Aura", "c9b7f9dd", "3-0", "1", "majors"], ["Zamu", "cbe5cea1", "Chickenman400", "8ab7ba54", "3-0", "1", "majors"], ["Mot$", "41c65699", "Kevbot", "658c6a49", "3-2", "1", "majors"], ["Krudo", "cddea7f7", "Zanya", "99a355dd", "3-0", "1", "majors"], ["Chem", "56e65e49", "n0ne", "88547be1", "3-1", "1", "majors"], ["Cody Schwab", "da8b9c25", "Zain", "2a371960", "3-1", "2", "majors"], ["Cody Schwab", "da8b9c25", "Zain", "2a371960", "3-2", "2", "majors"], ["Seven", "acf6aa2d", "max", "fcb7988b", "3-2", "2", "majors"], ["Zain", "2a371960", "Krudo", "cddea7f7", "3-1", "2", "majors"], ["Chem", "56e65e49", "Maelstrom", "c383a2ce", "3-1", "2", "majors"], ["moky", "05c05957", "Faust", "0351c73c", "3-0", "2", "majors"], ["Cody Schwab", "da8b9c25", "Trif", "98c0b1a8", "3-0", "2", "majors"], ["Zain", "2a371960", "lloD", "2b120752", "3-0", "2", "majors"], ["Magi", "98db8330", "Plup", "ed4dcae4", "3-2", "2", "majors"], ["Krudo", "cddea7f7", "Wizzrobe", "b46a1da4", "3-1", "2", "majors"], ["Panda", "d865e317", "Jmook", "2d34f47c", "3-0", "2", "majors"], ["aMSa", "cfe7a825", "Magi", "98db8330", "3-0", "2", "majors"], ["aMSa", "cfe7a825", "Zanya", "99a355dd", "3-1", "2", "majors"], ["Trif", "98c0b1a8", "n0ne", "88547be1", "3-1", "2", "majors"], ["Ossify", "0c449ce1", "Aklo", "f43678b2", "3-2", "2", "majors"], ["lloD", "2b120752", "Junebug", "5a13ee71", "3-0", "2", "majors"], ["MOF", "ca0310c6", "Stiv", "e70a66ca", "3-1", "2", "majors"], ["Plup", "ed4dcae4", "Ben", "0ad21baa", "3-0", "2", "majors"], ["lloD", "2b120752", "Soonsay", "9c63d861", "3-2", "2", "majors"], ["Holiday", "d27d8b76", "Maelstrom", "c383a2ce", "3-1", "2", "majors"], ["Dawson", "ce4714ea", "Faust", "0351c73c", "3-2", "2", "majors"], ["Soonsay", "9c63d861", "n0ne", "88547be1", "L- ", "2", "majors"], ["Aklo", "f43678b2", "Mot$", "41c65699", "3-0", "2", "majors"], ["Junebug", "5a13ee71", "Grab", "c8cd907b", "3-0", "2", "majors"], ["Jmook", "2d34f47c", "Rikzz", "a4e7d0bc", "3-1", "2", "majors"], ["Magi", "98db8330", "Aklo", "f43678b2", "3-0", "2", "majors"], ["Nicki", "39493041", "Hungrybox", "076502c1", "3-1", "2", "majors"], ["Cody Schwab", "da8b9c25", "Krudo", "cddea7f7", "3-0", "2", "majors"], ["Ben", "0ad21baa", "Agent", "a709f899", "3-1", "2", "majors"], ["Soonsay", "9c63d861", "Ossify", "0c449ce1", "3-1", "2", "majors"], ["Grab", "c8cd907b", "Epoodle", "21470bf0", "3-2", "2", "majors"], ["Aklo", "f43678b2", "Panda", "d865e317", "3-1", "2", "majors"], ["Cody Schwab", "da8b9c25", "aMSa", "cfe7a825", "3-1", "2", "majors"], ["Cody Schwab", "da8b9c25", "Salt", "ebb6c120", "3-0", "2", "majors"], ["Zain", "2a371960", "Cody Schwab", "da8b9c25", "3-1", "2", "majors"], ["Cody Schwab", "da8b9c25", "Kevbot", "658c6a49", "3-0", "2", "majors"], ["Maelstrom", "c383a2ce", "Hungrybox", "076502c1", "3-1", "2", "majors"], ["Faust", "0351c73c", "TheRealThing", "fb51e987", "3-1", "2", "majors"], ["Trif", "98c0b1a8", "Panda", "d865e317", "3-0", "2", "majors"], ["Krudo", "cddea7f7", "aMSa", "cfe7a825", "3-0", "2", "majors"], ["Magi", "98db8330", "Seven", "acf6aa2d", "3-1", "2", "majors"], ["Krudo", "cddea7f7", "Mot$", "41c65699", "3-0", "2", "majors"], ["MOF", "ca0310c6", "Grab", "c8cd907b", "3-1", "2", "majors"], ["lloD", "2b120752", "Axe", "1c278ce9", "3-0", "2", "majors"], ["Plup", "ed4dcae4", "404Cray", "583c7fa9", "3-2", "2", "majors"], ["Magi", "98db8330", "Chem", "56e65e49", "3-0", "2", "majors"], ["Trif", "98c0b1a8", "Lowercase hero", "a327d9dd", "3-2", "2", "majors"], ["Krudo", "cddea7f7", "moky", "05c05957", "3-0", "2", "majors"], ["Zanya", "99a355dd", "Ben", "0ad21baa", "3-1", "2", "majors"], ["Soonsay", "9c63d861", "moky", "05c05957", "3-2", "2", "majors"], ["Holiday", "d27d8b76", "max", "fcb7988b", "3-2", "2", "majors"], ["Epoodle", "21470bf0", "lexor", "3a26a2ca", "3-1", "2", "majors"], ["Plup", "ed4dcae4", "Axe", "1c278ce9", "3-1", "2", "majors"], ["Panda", "d865e317", "Wizzrobe", "b46a1da4", "3-2", "2", "majors"], ["Aklo", "f43678b2", "Salt", "ebb6c120", "3-2", "2", "majors"], ["aMSa", "cfe7a825", "lloD", "2b120752", "3-1", "2", "majors"], ["lloD", "2b120752", "Trif", "98c0b1a8", "3-1", "2", "majors"], ["Soonsay", "9c63d861", "Jmook", "2d34f47c", "3-2", "2", "majors"], ["MOF", "ca0310c6", "SluG", "7fe8638e", "3-2", "2", "majors"], ["Plup", "ed4dcae4", "Holiday", "d27d8b76", "3-0", "2", "majors"], ["Nicki", "39493041", "Zanya", "99a355dd", "3-0", "2", "majors"], ["Wizzrobe", "b46a1da4", "Dawson", "ce4714ea", "3-1", "2", "majors"], ["Krudo", "cddea7f7", "Ossify", "0c449ce1", "3-1", "3", "majors"], ["Krudo", "cddea7f7", "Salt", "ebb6c120", "3-2", "3", "majors"], ["Ossify", "0c449ce1", "Salt", "ebb6c120", "3-2", "3", "majors"], ["Ossify", "0c449ce1", "Magi", "98db8330", "3-2", "3", "majors"], ["Salt", "ebb6c120", "lloD", "2b120752", "3-1", "3", "majors"], ["Krudo", "cddea7f7", "Magi", "98db8330", "3-0", "3", "majors"], ["Seven", "acf6aa2d", "Lowercase hero", "a327d9dd", "3-2", "3", "majors"], ["Ossify", "0c449ce1", "lloD", "2b120752", "3-2", "3", "majors"], ["Magi", "98db8330", "Aklo", "f43678b2", "3-1", "3", "majors"], ["lloD", "2b120752", "Aklo", "f43678b2", "3-1", "3", "majors"], ["Salt", "ebb6c120", "MOF", "ca0310c6", "3-1", "3", "majors"], ["Aklo", "f43678b2", "Zamu", "cbe5cea1", "3-1", "3", "majors"], ["Ossify", "0c449ce1", "Sirmeris", "83ae3b53", "3-0", "3", "majors"], ["Zamu", "cbe5cea1", "Wizzrobe", "b46a1da4", "3-0", "3", "majors"], ["Aklo", "f43678b2", "Sirmeris", "83ae3b53", "3-0", "3", "majors"], ["lloD", "2b120752", "Ossify", "0c449ce1", "3-2", "3", "majors"], ["Wizzrobe", "b46a1da4", "Balloon Day", "de4f81e5", "3-0", "3", "majors"], ["Sirmeris", "83ae3b53", "Grab", "c8cd907b", "3-1", "3", "majors"], ["lloD", "2b120752", "TheRealThing", "fb51e987", "2-0", "3", "majors"], ["Slowking", "8646af65", "Ben", "0ad21baa", "3-0", "3", "majors"], ["Krudo", "cddea7f7", "Seven", "acf6aa2d", "3-1", "3", "majors"], ["Wizzrobe", "b46a1da4", "Ben", "0ad21baa", "3-1", "3", "majors"], ["Preeminent", "760514b0", "Slowking", "8646af65", "3-1", "3", "majors"], ["bonfire10", "3352d0d8", "mvlvchi", "c3e27b2e", "3-0", "3", "majors"], ["Lowercase hero", "a327d9dd", "Dawson", "ce4714ea", "3-2", "3", "majors"], ["Balloon Day", "de4f81e5", "bonfire10", "3352d0d8", "3-1", "3", "majors"], ["Sirmeris", "83ae3b53", "Preeminent", "760514b0", "3-1", "3", "majors"], ["bonfire10", "3352d0d8", "max", "fcb7988b", "3-2", "3", "majors"], ["Zain", "2a371960", "n0ne", "88547be1", "3-2", "4", "majors"], ["aMSa", "cfe7a825", "Wizzrobe", "b46a1da4", "3-2", "4", "majors"], ["Axe", "1c278ce9", "Joshman", "dbff9f24", "3-2", "4", "majors"], ["Hungrybox", "076502c1", "Rocket", "2ee173fe", "3-0", "4", "majors"], ["Jmook", "2d34f47c", "Stiv", "e70a66ca", "3-1", "4", "majors"], ["Hungrybox", "076502c1", "Jmook", "2d34f47c", "3-1", "4", "majors"], ["Zain", "2a371960", "Aura", "c9b7f9dd", "3-0", "4", "majors"], ["Zain", "2a371960", "Axe", "1c278ce9", "3-1", "4", "majors"], ["Soonsay", "9c63d861", "Preeminent", "760514b0", "3-1", "4", "majors"], ["n0ne", "88547be1", "Agent", "a709f899", "3-2", "4", "majors"], ["Wizzrobe", "b46a1da4", "DarkGenex", "89d7c7da", "3-1", "4", "majors"], ["Joshman", "dbff9f24", "max", "fcb7988b", "3-0", "4", "majors"], ["aMSa", "cfe7a825", "Zuppy", "aef2a867", "3-0", "4", "majors"], ["Hungrybox", "076502c1", "Jmook", "2d34f47c", "3-0", "4", "majors"], ["Graves", "9ff819f4", "moky", "05c05957", "3-2", "4", "majors"], ["Hungrybox", "076502c1", "Axe", "1c278ce9", "3-1", "4", "majors"], ["Jmook", "2d34f47c", "Aura", "c9b7f9dd", "3-1", "4", "majors"], ["Axe", "1c278ce9", "Soonsay", "9c63d861", "3-2", "4", "majors"], ["Jmook", "2d34f47c", "Zuppy", "aef2a867", "3-0", "4", "majors"], ["aMSa", "cfe7a825", "n0ne", "88547be1", "3-0", "4", "majors"], ["Jmook", "2d34f47c", "aMSa", "cfe7a825", "3-1", "4", "majors"], ["Soonsay", "9c63d861", "Wizzrobe", "b46a1da4", "3-2", "4", "majors"], ["Zuppy", "aef2a867", "Preeminent", "760514b0", "3-1", "4", "majors"], ["n0ne", "88547be1", "Joshman", "dbff9f24", "3-2", "4", "majors"], ["max", "fcb7988b", "Rocket", "2ee173fe", "3-1", "4", "majors"], ["Soonsay", "9c63d861", "moky", "05c05957", "3-1", "4", "majors"], ["Preeminent", "760514b0", "Graves", "9ff819f4", "3-0", "4", "majors"], ["Cody Schwab", "da8b9c25", "Joshman", "dbff9f24", "3-0", "5", "majors"], ["Cody Schwab", "da8b9c25", "Joshman", "dbff9f24", "3-2", "5", "majors"], ["Joshman", "dbff9f24", "Nicki", "39493041", "3-1", "5", "majors"], ["Faust", "0351c73c", "Plup", "ed4dcae4", "3-0", "5", "majors"], ["moky", "05c05957", "Balloon Day", "de4f81e5", "3-0", "5", "majors"], ["Axe", "1c278ce9", "Kalvar", "985d6ac2", "3-0", "5", "majors"], ["Magi", "98db8330", "SluG", "7fe8638e", "3-2", "5", "majors"], ["Cody Schwab", "da8b9c25", "Jude", "c2b31cbb", "3-1", "5", "majors"], ["Jmook", "2d34f47c", "Lowercase hero", "a327d9dd", "3-0", "5", "majors"], ["Joshman", "dbff9f24", "TheRealThing", "fb51e987", "3-0", "5", "majors"], ["Panda", "d865e317", "Zuppy", "aef2a867", "3-1", "5", "majors"], ["MOF", "ca0310c6", "BING", "c875a8c3", "3-1", "5", "majors"], ["Junebug", "5a13ee71", "Sirmeris", "83ae3b53", "3-0", "5", "majors"], ["TheRealThing", "fb51e987", "max", "fcb7988b", "3-0", "5", "majors"], ["DarkGenex", "89d7c7da", "SluG", "7fe8638e", "3-2", "5", "majors"], ["JoJo", "3e5ad50b", "Kalvar", "985d6ac2", "3-2", "5", "majors"], ["BING", "c875a8c3", "Holiday", "d27d8b76", "3-0", "5", "majors"], ["Cody Schwab", "da8b9c25", "Nicki", "39493041", "3-2", "5", "majors"], ["Cody Schwab", "da8b9c25", "MOF", "ca0310c6", "3-2", "5", "majors"], ["Joshman", "dbff9f24", "Jmook", "2d34f47c", "3-0", "5", "majors"], ["Balloon Day", "de4f81e5", "DarkGenex", "89d7c7da", "3-2", "5", "majors"], ["Lowercase hero", "a327d9dd", "Holiday", "d27d8b76", "3-1", "5", "majors"], ["MOF", "ca0310c6", "Jmook", "2d34f47c", "3-1", "5", "majors"], ["MOF", "ca0310c6", "Aklo", "f43678b2", "3-1", "5", "majors"], ["Cody Schwab", "da8b9c25", "moky", "05c05957", "3-0", "5", "majors"], ["Nicki", "39493041", "Junebug", "5a13ee71", "3-2", "5", "majors"], ["Joshman", "dbff9f24", "Cody Schwab", "da8b9c25", "3-0", "5", "majors"], ["Jmook", "2d34f47c", "Axe", "1c278ce9", "3-1", "5", "majors"], ["MOF", "ca0310c6", "Magi", "98db8330", "3-2", "5", "majors"], ["Aklo", "f43678b2", "Junebug", "5a13ee71", "3-1", "5", "majors"], ["moky", "05c05957", "Axe", "1c278ce9", "3-1", "5", "majors"], ["Cody Schwab", "da8b9c25", "Zain", "2a371960", "3-2", "5", "majors"], ["MOF", "ca0310c6", "Krudo", "cddea7f7", "3-2", "5", "majors"], ["Aklo", "f43678b2", "Panda", "d865e317", "3-1", "5", "majors"], ["moky", "05c05957", "TheRealThing", "fb51e987", "3-1", "5", "majors"], ["Junebug", "5a13ee71", "Zain", "2a371960", "3-1", "5", "majors"], ["Nicki", "39493041", "Faust", "0351c73c", "3-0", "5", "majors"], ["Magi", "98db8330", "moky", "05c05957", "3-1", "5", "majors"], ["Cody Schwab", "da8b9c25", "Panda", "d865e317", "3-1", "5", "majors"], ["Joshman", "dbff9f24", "Aklo", "f43678b2", "3-0", "5", "majors"], ["Jmook", "2d34f47c", "MOF", "ca0310c6", "3-1", "5", "majors"], ["Axe", "1c278ce9", "Krudo", "cddea7f7", "3-0", "5", "majors"], ["Aklo", "f43678b2", "Soonsay", "9c63d861", "3-1", "5", "majors"], ["Panda", "d865e317", "DarkGenex", "89d7c7da", "3-0", "5", "majors"], ["Krudo", "cddea7f7", "Sirmeris", "83ae3b53", "3-1", "5", "majors"], ["Sirmeris", "83ae3b53", "Jude", "c2b31cbb", "3-0", "5", "majors"], ["Soonsay", "9c63d861", "Lowercase hero", "a327d9dd", "3-0", "5", "majors"], ["DarkGenex", "89d7c7da", "JoJo", "3e5ad50b", "3-1", "5", "majors"], ["TheRealThing", "fb51e987", "Plup", "ed4dcae4", "3-1", "5", "majors"], ["Joshman", "dbff9f24", "Krudo", "cddea7f7", "3-0", "6", "majors"], ["Salt", "ebb6c120", "Soonsay", "9c63d861", "3-1", "6", "majors"], ["Axe", "1c278ce9", "Joshman", "dbff9f24", "3-2", "6", "majors"], ["Soonsay", "9c63d861", "n0ne", "88547be1", "3-2", "6", "majors"], ["Krudo", "cddea7f7", "Aura", "c9b7f9dd", "3-1", "6", "majors"], ["Zain", "2a371960", "Salt", "ebb6c120", "3-0", "6", "majors"], ["Cody Schwab", "da8b9c25", "moky", "05c05957", "3-0", "6", "majors"], ["Cody Schwab", "da8b9c25", "Hungrybox", "076502c1", "3-0", "6", "majors"], ["moky", "05c05957", "Zain", "2a371960", "3-1", "6", "majors"], ["Salt", "ebb6c120", "Krudo", "cddea7f7", "3-1", "6", "majors"], ["Joshman", "dbff9f24", "Junebug", "5a13ee71", "3-1", "6", "majors"], ["Axe", "1c278ce9", "n0ne", "88547be1", "3-1", "6", "majors"], ["Soonsay", "9c63d861", "Aklo", "f43678b2", "3-0", "6", "majors"], ["Cody Schwab", "da8b9c25", "moky", "05c05957", "3-2", "6", "majors"], ["Cody Schwab", "da8b9c25", "Salt", "ebb6c120", "3-1", "6", "majors"], ["Hungrybox", "076502c1", "Axe", "1c278ce9", "3-1", "6", "majors"], ["moky", "05c05957", "Hungrybox", "076502c1", "3-2", "6", "majors"], ["moky", "05c05957", "Joshman", "dbff9f24", "3-1", "6", "majors"], ["n0ne", "88547be1", "Trif", "98c0b1a8", "3-2", "6", "majors"], ["Junebug", "5a13ee71", "Soonsay", "9c63d861", "3-0", "6", "majors"], ["Aura", "c9b7f9dd", "Aklo", "f43678b2", "3-1", "6", "majors"], ["Hungrybox", "076502c1", "Axe", "1c278ce9", "3-0", "6", "majors"], ["moky", "05c05957", "Salt", "ebb6c120", "3-0", "6", "majors"], ["Cody Schwab", "da8b9c25", "Hungrybox", "076502c1", "3-2", "6", "majors"], ["moky", "05c05957", "Axe", "1c278ce9", "3-2", "6", "majors"], ["Cody Schwab", "da8b9c25", "Joshman", "dbff9f24", "3-1", "6", "majors"], ["Hungrybox", "076502c1", "Zain", "2a371960", "3-2", "6", "majors"], ["Cody Schwab", "da8b9c25", "n0ne", "88547be1", "3-0", "6", "majors"], ["Salt", "ebb6c120", "Trif", "98c0b1a8", "3-2", "6", "majors"], ["Hungrybox", "076502c1", "Krudo", "cddea7f7", "3-0", "6", "majors"], ["Zain", "2a371960", "Soonsay", "9c63d861", "3-2", "6", "majors"], ["Joshman", "dbff9f24", "Aura", "c9b7f9dd", "3-2", "6", "majors"], ["Axe", "1c278ce9", "Zain", "2a371960", "3-2", "6", "majors"], ["moky", "05c05957", "Aklo", "f43678b2", "3-0", "6", "majors"], ["Zain", "2a371960", "Soonsay", "9c63d861", "3-1", "6", "majors"], ["Joshman", "dbff9f24", "Aklo", "f43678b2", "3-0", "6", "majors"], ["n0ne", "88547be1", "Salt", "ebb6c120", "3-1", "6", "majors"], ["Zain", "2a371960", "Joshman", "dbff9f24", "3-1", "6", "majors"], ["Soonsay", "9c63d861", "Aura", "c9b7f9dd", "3-2", "6", "majors"], ["Trif", "98c0b1a8", "Krudo", "cddea7f7", "3-2", "6", "majors"], ["n0ne", "88547be1", "Junebug", "5a13ee71", "3-1", "6", "majors"]]
	
	function getFilteredMatches() {
	    var filter = $("input[name='filter']:checked").val();
	    var excludedRows = getExcludedRows();
	    var filteredMatches = matches.filter(function(match, index) {
		if (excludedRows.includes(index)) {
		    return false;
		}
		if (filter === "majorAndRegional") {
		    return match[6] === 'majors' || match[6] === 'regionals';
		}
		return filter == "all" || match[6] == filter;
	    });
	    return filteredMatches;
	}
      
        function createCrossTableData(filteredMatches) {
            var data = { };

            players.forEach(function(id) {
                data[id] = {};
                players.forEach(function(id2) {
                    data[id][id2] = id === id2 ? "0" : "0-0";
                });
            });

            filteredMatches.forEach(function(match) {
		console.log(match)
                var winnerId = match[1];
                var loserId = match[3];
                var score = match[4].split("-").reverse().join("-");  // swap winner-loser score
                
                // Update scores
                if (data[winnerId][loserId] == "0-0") data[winnerId][loserId] = "1-0";
                else {
                    var scores = data[winnerId][loserId].split("-");
                    scores[0] = (parseInt(scores[0]) + 1).toString();
                    data[winnerId][loserId] = scores.join("-");
                }

                if (data[loserId][winnerId] == "0-0") data[loserId][winnerId] = "0-1";
                else {
                    var scores = data[loserId][winnerId].split("-");
                    scores[1] = (parseInt(scores[1]) + 1).toString();
                    data[loserId][winnerId] = scores.join("-");
                }
            });

            return data;
        }

      function populateTable(crossTableData) {
            $("#crossTable").empty();
            var header = $("<tr>");
            header.append($("<th>").text("x"));
            players.forEach(function(id) {
                header.append($("<th>").addClass("cell stickycell").text(playersData[id]));
            });
            $("#crossTable").append(header);

            players.forEach(function(id) {
                var row = $("<tr>");
                row.append($("<td>").addClass("cell stickycell stickyrow").text(playersData[id]));
                players.forEach(function(id2) {
                    var cell = $("<td>").text(crossTableData[id][id2]);
                    if (id == id2) cell.addClass("black");  // diagonal
                    else {
                        var scores = crossTableData[id][id2].split("-");
	                var wins = parseInt(scores[0]);
	                var losses = parseInt(scores[1]);

	                if (wins == 0 && losses == 0) cell.addClass("white");
	                else if (wins == losses) cell.addClass("yellow");
	                else if (wins > losses) cell.addClass("green");
	                else if (wins < losses) cell.addClass("red");
                    }
                    row.append(cell);
                });
                $("#crossTable").append(row);
            });
        }

        function populatePlayerList() {
            $("#sortable").empty();
            players.forEach(function(id) {
                var li = $("<li>").text(playersData[id]).addClass("ui-state-default").attr("id", id);
                $("#sortable").append(li);
            });
        }

        function populateEvents() {
            $("#events").empty();
            Object.keys(eventsData).forEach(function(eventId) {
                var eventName = eventsData[eventId];
                var matchInfo = matches.find(function(match) {
                    return match[5] == eventId;
                });
		var eventPrestige = matchInfo ? matchInfo[6] : 'majors';

                var eventDiv = $(
                    `<div id="event_${eventId}">
                        <label>${eventName}</label>
                        <input type="radio" name="prestige_${eventId}" value="majors" ${eventPrestige == 'majors' ? 'checked' : ''}>Majors
                        <input type="radio" name="prestige_${eventId}" value="regionals" ${eventPrestige == 'regionals' ? 'checked' : ''}>Regionals
                        <input type="radio" name="prestige_${eventId}" value="weeklies" ${eventPrestige == 'monthlies' ? 'checked' : ''}>Monthlies
                    </div>`
                );

                $("#events").append(eventDiv);

                $(`input[name="prestige_${eventId}"]`).change(function() {
                    updateMatches(eventId, $(this).val());
                    crossTableData = createCrossTableData(getFilteredMatches());
                    populateTable(crossTableData);
                });
            });
        }

        function populateMatchData() {
            $("#match-data").empty();
            for (var i = 0; i < matches.length; i++) {
                var match = matches[i];
                var eventId = match[5];
                var eventName = eventsData[eventId];
                var matchString = `${match[0]} > ${match[2]} ${match[4]} at ${eventName}`;
                var matchId = "match-" + i;  // create a unique ID for each match
                var matchDiv = $(
		    `<div data-row-index="${i}">
                        <input type="radio" name="match-${i}" value="include" checked>Include
                        <input type="radio" name="match-${i}" value="exclude">Exclude
                        ${matchString}
                    </div>`
                );

		// add change event listener for this match's exclude/include radio buttons
		$("input[type='radio']", matchDiv).change(function() {
		    crossTableData = createCrossTableData(getFilteredMatches());
		    populateTable(crossTableData);
		});

		$("#match-data").append(matchDiv);
		
            }
        }

        function populateMatchData() {
	    $("#match-data").empty();
	    for (var i = 0; i < matches.length; i++) {
		var match = matches[i];
		var eventId = match[5];
		var eventName = eventsData[eventId];
		var matchString = `${match[0]} > ${match[2]} ${match[4]} at ${eventName}`;
		var matchId = "match-" + i;  // create a unique ID for each match
		var matchDiv = $(
		    `<div data-row-index="${i}">
                        <input type="radio" name="match-${i}" value="include" checked>Include
                        <input type="radio" name="match-${i}" value="exclude">Exclude
                        ${matchString}
                    </div>`
		);
		
		$("#match-data").append(matchDiv);
	    }

	    // add change event listener for this match's exclude/include radio buttons
	    $("#match-data input[type='radio']").change(function() {
		crossTableData = createCrossTableData(getFilteredMatches());
		populateTable(crossTableData);
	    });
	}

        function getExcludedRows() {
	    var excludedRows = [];
	    $("#match-data div").each(function() {
		if ($("input[value='exclude']:checked", this).length) {
		    var rowIndex = $(this).data('row-index');
		    excludedRows.push(rowIndex);
		}
	    });
	    return excludedRows;
	}

        // Add event listener for toggle button
        $("#toggle-events").click(function() {
            var isEventsVisible = $("#events").is(":visible");
            if (isEventsVisible) {
                $("#events").hide();
                $(this).text('Show Event Tier Assignments');
            } else {
                $("#events").show();
                $(this).text('Hide Event Tier Assignments');
            }
        });

        // Add event listener for match data toggle button
        $("#toggle-match-data").click(function() {
            var isMatchDataVisible = $("#match-data").is(":visible");
            if (isMatchDataVisible) {
                $("#match-data").hide();
                $(this).text('Show Match Data');
            } else {
                $("#match-data").show();
                $(this).text('Hide Match Data');
            }
        });



        var crossTableData = createCrossTableData(getFilteredMatches());
        populateTable(crossTableData);
        populatePlayerList();
        populateEvents();
        populateMatchData();

        $( "#sortable" ).sortable({
            stop: function(event, ui) {
                players = $("#sortable").sortable("toArray");
                crossTableData = createCrossTableData(getFilteredMatches());
                populateTable(crossTableData);
            }
        });

        $("input[name='filter']").change(function() {
            crossTableData = createCrossTableData(getFilteredMatches());
            populateTable(crossTableData);
        });
      
    </script>

</body>
</html>
